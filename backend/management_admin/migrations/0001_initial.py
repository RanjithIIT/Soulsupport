# Generated by Django 4.2.7 on 2026-01-06 04:27

import datetime
from django.conf import settings
import django.core.validators
from django.db import migrations, models
import django.db.models.deletion
import management_admin.models
import uuid


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('super_admin', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Award',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('school_id', models.CharField(blank=True, db_index=True, editable=False, help_text='School ID for filtering', max_length=100, null=True)),
                ('school_name', models.CharField(blank=True, editable=False, help_text='School name', max_length=255, null=True)),
                ('title', models.CharField(help_text='Award title', max_length=255)),
                ('category', models.CharField(choices=[('Academic', 'Academic'), ('Sports', 'Sports'), ('Arts', 'Arts'), ('Leadership', 'Leadership'), ('Innovation', 'Innovation'), ('Community', 'Community'), ('Other', 'Other')], default='Other', help_text='Award category', max_length=50)),
                ('recipient', models.CharField(help_text='Recipient name', max_length=255)),
                ('student_ids', models.TextField(blank=True, help_text='Comma-separated student IDs (for team awards)')),
                ('date', models.DateField(help_text='Award date')),
                ('description', models.TextField(blank=True, help_text='Award description')),
                ('level', models.CharField(choices=[('School', 'School'), ('District', 'District'), ('State', 'State'), ('National', 'National'), ('International', 'International')], default='School', help_text='Award level', max_length=50)),
                ('presented_by', models.CharField(blank=True, help_text='Presented by (organization or person)', max_length=255)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Award',
                'verbose_name_plural': 'Awards',
                'db_table': 'awards',
                'ordering': ['-date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Bus',
            fields=[
                ('bus_number', models.CharField(help_text='Unique bus number/identifier (Primary Key)', max_length=100, primary_key=True, serialize=False)),
                ('bus_type', models.CharField(choices=[('Mini Bus', 'Mini Bus'), ('Standard Bus', 'Standard Bus'), ('Large Bus', 'Large Bus'), ('AC Bus', 'AC Bus')], help_text='Type of bus', max_length=50)),
                ('capacity', models.IntegerField(help_text='Passenger capacity of the bus', validators=[django.core.validators.MinValueValidator(1)])),
                ('registration_number', models.CharField(help_text='Vehicle registration number', max_length=100, unique=True)),
                ('driver_name', models.CharField(help_text='Full name of the driver', max_length=255)),
                ('driver_phone', models.CharField(help_text='Driver contact phone number', max_length=20)),
                ('driver_license', models.CharField(help_text='Driver license number', max_length=100)),
                ('driver_experience', models.IntegerField(blank=True, help_text='Years of driving experience', null=True, validators=[django.core.validators.MinValueValidator(0)])),
                ('route_name', models.CharField(help_text='Name of the bus route', max_length=255)),
                ('route_distance', models.DecimalField(blank=True, decimal_places=2, help_text='Route distance in kilometers', max_digits=10, null=True, validators=[django.core.validators.MinValueValidator(0)])),
                ('start_location', models.CharField(blank=True, help_text='Starting location of the route', max_length=255)),
                ('end_location', models.CharField(blank=True, help_text='Ending location of the route', max_length=255)),
                ('morning_start_time', models.TimeField(help_text='Morning pickup start time')),
                ('morning_end_time', models.TimeField(help_text='Morning pickup end time')),
                ('afternoon_start_time', models.TimeField(help_text='Afternoon drop-off start time')),
                ('afternoon_end_time', models.TimeField(help_text='Afternoon drop-off end time')),
                ('notes', models.TextField(blank=True, help_text='Additional notes or comments about the bus')),
                ('is_active', models.BooleanField(default=True, help_text='Whether the bus is currently active')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('school', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='buses', to='super_admin.school')),
            ],
            options={
                'verbose_name': 'Bus',
                'verbose_name_plural': 'Buses',
                'db_table': 'buses',
            },
        ),
        migrations.CreateModel(
            name='BusStop',
            fields=[
                ('stop_id', models.CharField(editable=False, help_text='Stop ID in format: busnumber_routeprefix_stopnumber', max_length=255, primary_key=True, serialize=False)),
                ('school_id', models.CharField(blank=True, db_index=True, editable=False, help_text='School ID for filtering (read-only, fetched from schools table)', max_length=100, null=True)),
                ('school_name', models.CharField(blank=True, editable=False, help_text='School name (read-only, auto-populated from schools table)', max_length=255, null=True)),
                ('stop_name', models.CharField(help_text='Name of the bus stop', max_length=255)),
                ('stop_address', models.TextField(blank=True, help_text='Address of the bus stop')),
                ('stop_time', models.TimeField(blank=True, help_text='Time when bus arrives at this stop', null=True)),
                ('route_type', models.CharField(choices=[('morning', 'Morning Route (Pick-up)'), ('afternoon', 'Afternoon Route (Drop-off)')], help_text='Type of route: morning (pick-up) or afternoon (drop-off)', max_length=20)),
                ('stop_order', models.IntegerField(help_text='Order of stop in the route (1, 2, 3, ...)', validators=[django.core.validators.MinValueValidator(1)])),
                ('latitude', models.DecimalField(blank=True, decimal_places=6, help_text='Latitude coordinate', max_digits=9, null=True)),
                ('longitude', models.DecimalField(blank=True, decimal_places=6, help_text='Longitude coordinate', max_digits=9, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('bus', models.ForeignKey(db_column='bus_number', on_delete=django.db.models.deletion.CASCADE, related_name='stops', to='management_admin.bus')),
            ],
            options={
                'verbose_name': 'Bus Stop',
                'verbose_name_plural': 'Bus Stops',
                'db_table': 'bus_stops',
                'ordering': ['bus', 'route_type', 'stop_order'],
                'unique_together': {('bus', 'route_type', 'stop_order')},
            },
        ),
        migrations.CreateModel(
            name='Department',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('school_name', models.CharField(blank=True, editable=False, max_length=255, null=True)),
                ('name', models.CharField(max_length=255)),
                ('code', models.CharField(blank=True, max_length=50)),
                ('description', models.TextField(blank=True)),
                ('head_name', models.CharField(blank=True, help_text='Name of the department head', max_length=255)),
                ('email', models.EmailField(blank=True, max_length=254)),
                ('phone', models.CharField(blank=True, max_length=20)),
                ('faculty_count', models.IntegerField(default=0)),
                ('student_count', models.IntegerField(default=0)),
                ('course_count', models.IntegerField(default=0)),
                ('established_date', models.DateField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('head', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='headed_departments', to=settings.AUTH_USER_MODEL)),
                ('school', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='departments', to='super_admin.school')),
            ],
            options={
                'verbose_name': 'Department',
                'verbose_name_plural': 'Departments',
                'db_table': 'departments',
                'unique_together': {('school', 'name')},
            },
        ),
        migrations.CreateModel(
            name='Event',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('school_id', models.CharField(blank=True, db_index=True, editable=False, help_text='School ID for filtering (read-only, fetched from schools table)', max_length=100, null=True)),
                ('school_name', models.CharField(blank=True, editable=False, help_text='School name (read-only, auto-populated from schools table)', max_length=255, null=True)),
                ('name', models.CharField(help_text='Event name', max_length=255)),
                ('category', models.CharField(choices=[('Academic', 'Academic'), ('Sports', 'Sports'), ('Cultural', 'Cultural'), ('Administrative', 'Administrative'), ('Career', 'Career'), ('Other', 'Other')], default='Other', help_text='Event category', max_length=50)),
                ('date', models.DateField(help_text='Event date')),
                ('time', models.CharField(blank=True, help_text='Event time (e.g., 09:00 AM - 12:00 PM)', max_length=100)),
                ('location', models.CharField(blank=True, help_text='Event location', max_length=255)),
                ('organizer', models.CharField(blank=True, help_text='Event organizer', max_length=255)),
                ('participants', models.IntegerField(default=0, help_text='Estimated number of participants', validators=[django.core.validators.MinValueValidator(0)])),
                ('status', models.CharField(choices=[('Upcoming', 'Upcoming'), ('Completed', 'Completed'), ('Cancelled', 'Cancelled'), ('Postponed', 'Postponed')], default='Upcoming', help_text='Event status', max_length=50)),
                ('description', models.TextField(blank=True, help_text='Event description')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Event',
                'verbose_name_plural': 'Events',
                'db_table': 'events',
                'ordering': ['-date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Examination_management',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('Exam_Title', models.CharField(max_length=255)),
                ('Exam_Type', models.CharField(max_length=255)),
                ('Exam_Date', models.DateTimeField()),
                ('Exam_Time', models.TimeField()),
                ('Exam_Subject', models.CharField(blank=True, default='', max_length=255)),
                ('Exam_Class', models.CharField(blank=True, default='', max_length=255)),
                ('Exam_Duration', models.IntegerField()),
                ('Exam_Marks', models.IntegerField()),
                ('Exam_Description', models.TextField(blank=True)),
                ('Exam_Location', models.CharField(max_length=255)),
                ('Exam_Status', models.CharField(max_length=255)),
                ('school_id', models.CharField(blank=True, db_index=True, editable=False, help_text='School ID for filtering (read-only, fetched from schools table)', max_length=100, null=True)),
                ('school_name', models.CharField(blank=True, editable=False, help_text='School name (read-only, auto-populated from schools table)', max_length=255, null=True)),
                ('Exam_Created_At', models.DateTimeField(auto_now_add=True)),
                ('Exam_Updated_At', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Examination Management',
                'verbose_name_plural': 'Examination Management',
                'db_table': 'examination_management',
                'ordering': ['-Exam_Created_At'],
            },
        ),
        migrations.CreateModel(
            name='Fee',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('school_id', models.CharField(blank=True, db_index=True, editable=False, help_text='School ID for filtering (read-only, fetched from schools table)', max_length=100, null=True)),
                ('school_name', models.CharField(blank=True, editable=False, help_text='School name (read-only, auto-populated from schools table)', max_length=255, null=True)),
                ('student_id_string', models.CharField(blank=True, db_index=True, default='', help_text='Student ID as string (e.g., STUD-005) - indexed for faster lookups', max_length=100)),
                ('student_name', models.CharField(blank=True, help_text='Student name (auto-populated from student)', max_length=255)),
                ('applying_class', models.CharField(blank=True, help_text='Student class (auto-populated from student)', max_length=50)),
                ('fee_type', models.CharField(choices=[('tuition', 'Tuition'), ('transport', 'Transport'), ('laboratory', 'Laboratory'), ('examination', 'Examination'), ('library', 'Library'), ('sports', 'Sports'), ('hostel', 'Hostel'), ('uniform', 'Uniform'), ('other', 'Other')], default='tuition', max_length=50)),
                ('grade', models.CharField(help_text='Grade of the student (A, B, C, D)', max_length=50)),
                ('total_amount', models.DecimalField(decimal_places=2, help_text='Total amount of the fee', max_digits=10)),
                ('frequency', models.CharField(choices=[('monthly', 'Monthly'), ('quarterly', 'Quarterly'), ('half-yearly', 'Half-Yearly'), ('yearly', 'Yearly'), ('one-time', 'One-Time')], default='monthly', max_length=20)),
                ('due_date', models.DateField()),
                ('late_fee', models.DecimalField(decimal_places=2, default=0.0, help_text='Late fee amount if payment is delayed', max_digits=10)),
                ('description', models.TextField(blank=True, help_text='Additional description for the fee')),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('paid', 'Paid'), ('overdue', 'Overdue')], default='pending', max_length=20)),
                ('paid_amount', models.DecimalField(decimal_places=2, default=0.0, help_text='Total amount paid so far (sum of all payments)', max_digits=10)),
                ('due_amount', models.DecimalField(decimal_places=2, default=0.0, help_text='Amount due (remaining to be paid)', max_digits=10)),
                ('last_paid_date', models.DateField(blank=True, help_text='Date of last payment', null=True)),
                ('upload_receipt', models.CharField(blank=True, help_text='Uploaded receipt file path or URL', max_length=100, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Fee',
                'verbose_name_plural': 'Fees',
                'db_table': 'management_fees',
                'ordering': ['-due_date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Gallery',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('school_name', models.CharField(blank=True, editable=False, max_length=255, null=True)),
                ('photo_id', models.CharField(help_text='Unique Photo/Album ID', max_length=100, unique=True)),
                ('title', models.CharField(max_length=255)),
                ('category', models.CharField(choices=[('Events', 'Events'), ('Academic', 'Academic'), ('Sports', 'Sports'), ('Cultural', 'Cultural'), ('Activities', 'Activities'), ('Awards', 'Awards'), ('Other', 'Other')], default='Other', max_length=50)),
                ('description', models.TextField(blank=True)),
                ('date', models.DateField()),
                ('photographer', models.CharField(blank=True, max_length=255)),
                ('location', models.CharField(blank=True, max_length=255)),
                ('emoji', models.CharField(blank=True, default='ðŸ“·', max_length=10)),
                ('is_favorite', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('school', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='galleries', to='super_admin.school')),
            ],
            options={
                'verbose_name': 'Gallery',
                'verbose_name_plural': 'Galleries',
                'db_table': 'galleries',
                'ordering': ['-date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='NewAdmission',
            fields=[
                ('student_name', models.CharField(max_length=255)),
                ('parent_name', models.CharField(max_length=255)),
                ('date_of_birth', models.DateField()),
                ('gender', models.CharField(choices=[('Male', 'Male'), ('Female', 'Female'), ('Other', 'Other')], max_length=10)),
                ('applying_class', models.CharField(max_length=50)),
                ('grade', models.CharField(blank=True, choices=[('A', 'A'), ('B', 'B'), ('C', 'C'), ('D', 'D')], help_text='Grade of the student (A, B, C, or D)', max_length=1, null=True)),
                ('address', models.TextField(default='Address not provided')),
                ('category', models.CharField(choices=[('General', 'General'), ('OBC', 'OBC'), ('SC', 'SC'), ('ST', 'ST'), ('EWS', 'EWS'), ('Other', 'Other')], default='General', max_length=20)),
                ('student_id', models.CharField(help_text='Student ID (Primary Key)', max_length=100, primary_key=True, serialize=False)),
                ('school_id', models.CharField(blank=True, db_index=True, editable=False, help_text='School ID for filtering (read-only, fetched from schools table)', max_length=100, null=True)),
                ('status', models.CharField(choices=[('Pending', 'Pending'), ('Approved', 'Approved'), ('Rejected', 'Rejected'), ('Under Review', 'Under Review'), ('Waitlisted', 'Waitlisted'), ('Enrolled', 'Enrolled')], default='Pending', max_length=20)),
                ('admission_number', models.CharField(blank=True, help_text='Generated after approval', max_length=50, null=True, unique=True)),
                ('email', models.EmailField(help_text='Required. Used to create login credentials.', max_length=254, unique=True)),
                ('parent_phone', models.CharField(blank=True, max_length=20, null=True)),
                ('emergency_contact', models.CharField(blank=True, max_length=20, null=True)),
                ('medical_information', models.TextField(blank=True, help_text='Medical information and allergies', null=True)),
                ('blood_group', models.CharField(blank=True, max_length=10, null=True)),
                ('previous_school', models.CharField(blank=True, max_length=255, null=True)),
                ('remarks', models.TextField(blank=True, null=True)),
                ('password', models.CharField(blank=True, help_text='Hashed password created by user', max_length=128, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'New Admission',
                'verbose_name_plural': 'New Admissions',
                'db_table': 'new_admissions',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Teacher',
            fields=[
                ('employee_no', models.CharField(help_text='Employee number (unique identifier)', max_length=50, primary_key=True, serialize=False)),
                ('school_id', models.CharField(blank=True, db_index=True, editable=False, help_text='School ID for filtering (read-only, fetched from schools table)', max_length=100, null=True)),
                ('school_name', models.CharField(blank=True, editable=False, help_text='School name (read-only, auto-populated from schools table)', max_length=255, null=True)),
                ('first_name', models.CharField(help_text='First name (required)', max_length=150)),
                ('last_name', models.CharField(blank=True, help_text='Last name', max_length=150, null=True)),
                ('qualification', models.CharField(blank=True, help_text='Educational qualifications', max_length=255, null=True)),
                ('joining_date', models.DateField(blank=True, help_text='Date of joining', null=True)),
                ('dob', models.DateField(blank=True, help_text='Date of Birth', null=True)),
                ('gender', models.CharField(blank=True, choices=[('Male', 'Male'), ('Female', 'Female'), ('Other', 'Other')], help_text='Gender', max_length=20, null=True)),
                ('blood_group', models.CharField(blank=True, help_text='Blood group', max_length=10, null=True)),
                ('nationality', models.CharField(blank=True, help_text='Nationality', max_length=100, null=True)),
                ('mobile_no', models.CharField(blank=True, help_text='Mobile phone number', max_length=20, null=True)),
                ('email', models.EmailField(blank=True, help_text='Email address', max_length=254, null=True)),
                ('address', models.TextField(blank=True, help_text='Address', null=True)),
                ('class_teacher_class', models.CharField(blank=True, help_text='Class name for class teacher assignment (e.g., Grade 9, 10)', max_length=50, null=True)),
                ('class_teacher_grade', models.CharField(blank=True, help_text='Grade level for class teacher assignment (e.g., A, B, C, D)', max_length=10, null=True)),
                ('subject_specialization', models.TextField(blank=True, help_text='Subject specialization details', null=True)),
                ('emergency_contact', models.CharField(blank=True, help_text='Emergency contact number', max_length=20, null=True)),
                ('emergency_contact_relation', models.CharField(blank=True, help_text='Relationship with emergency contact', max_length=50, null=True)),
                ('marital_status', models.CharField(blank=True, help_text='Marital status', max_length=20, null=True)),
                ('permanent_address', models.TextField(blank=True, help_text='Permanent address', null=True)),
                ('experience', models.DecimalField(blank=True, decimal_places=1, help_text='Years of experience', max_digits=4, null=True)),
                ('salary', models.DecimalField(blank=True, decimal_places=2, help_text='Current salary', max_digits=12, null=True)),
                ('profile_photo', models.CharField(blank=True, help_text='Profile photo URL or file path', max_length=100, null=True)),
                ('is_class_teacher', models.BooleanField(default=False, help_text='Whether the teacher is a class teacher')),
                ('is_active', models.BooleanField(default=True, help_text='Active status')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True, null=True)),
                ('department', models.ForeignKey(blank=True, db_column='department_id', help_text='Department assignment', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='teachers', to='management_admin.department')),
                ('user', models.ForeignKey(blank=True, db_column='user_id', help_text='If teacher has login', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='teacher_profiles', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Teacher',
                'verbose_name_plural': 'Teachers',
                'db_table': 'teachers',
            },
        ),
        migrations.CreateModel(
            name='Student',
            fields=[
                ('email', models.EmailField(help_text='Primary key and used as login credential if account created', max_length=254, primary_key=True, serialize=False)),
                ('student_id', models.CharField(blank=True, help_text='Student ID fetched from new_admissions table', max_length=100, null=True)),
                ('school_name', models.CharField(blank=True, editable=False, help_text='School name (read-only, auto-populated from schools table)', max_length=255, null=True)),
                ('student_name', models.CharField(default='', max_length=255)),
                ('parent_name', models.CharField(default='', max_length=255)),
                ('date_of_birth', models.DateField(default=datetime.date(2000, 1, 1))),
                ('gender', models.CharField(choices=[('Male', 'Male'), ('Female', 'Female'), ('Other', 'Other')], default='Male', max_length=10)),
                ('applying_class', models.CharField(default='', max_length=50)),
                ('grade', models.CharField(blank=True, help_text='Grade/Level of the student', max_length=50, null=True)),
                ('address', models.TextField(default='Address not provided')),
                ('category', models.CharField(choices=[('General', 'General'), ('OBC', 'OBC'), ('SC', 'SC'), ('ST', 'ST'), ('EWS', 'EWS'), ('Other', 'Other')], default='General', max_length=20)),
                ('admission_number', models.CharField(blank=True, help_text='Generated after approval', max_length=50, null=True, unique=True)),
                ('parent_phone', models.CharField(blank=True, max_length=20, null=True)),
                ('emergency_contact', models.CharField(blank=True, max_length=20, null=True)),
                ('medical_information', models.TextField(blank=True, help_text='Medical notes or allergies', null=True)),
                ('blood_group', models.CharField(blank=True, max_length=10, null=True)),
                ('previous_school', models.CharField(blank=True, max_length=255, null=True)),
                ('remarks', models.TextField(blank=True, null=True)),
                ('profile_photo', models.CharField(blank=True, help_text='Profile photo URL or file path', max_length=100, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('school', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='students', to='super_admin.school')),
                ('user', models.ForeignKey(blank=True, db_column='user_id', help_text='Linked login user account (if exists)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='student_profiles', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Student',
                'verbose_name_plural': 'Students',
                'db_table': 'students',
            },
        ),
        migrations.CreateModel(
            name='PaymentHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('payment_amount', models.DecimalField(decimal_places=2, help_text='Amount paid in this transaction', max_digits=10)),
                ('payment_date', models.DateField(help_text='Date when payment was made')),
                ('receipt_number', models.CharField(blank=True, help_text='Receipt number for this payment', max_length=100)),
                ('upload_receipt', models.CharField(blank=True, help_text='Uploaded receipt file path or URL', max_length=100, null=True)),
                ('notes', models.TextField(blank=True, help_text='Additional notes for this payment')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('fee', models.ForeignKey(help_text='Fee associated with this payment', on_delete=django.db.models.deletion.CASCADE, related_name='payment_history', to='management_admin.fee')),
            ],
            options={
                'verbose_name': 'Payment History',
                'verbose_name_plural': 'Payment Histories',
                'db_table': 'payment_history',
                'ordering': ['-payment_date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='GalleryImage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('photo_id', models.CharField(blank=True, help_text='Reference to Gallery Photo ID', max_length=100, null=True)),
                ('image', models.FileField(upload_to='gallery_photos/', validators=[django.core.validators.FileExtensionValidator(allowed_extensions=['jpg', 'jpeg', 'png', 'gif'])])),
                ('caption', models.CharField(blank=True, max_length=255)),
                ('uploaded_at', models.DateTimeField(auto_now_add=True)),
                ('gallery', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='images', to='management_admin.gallery')),
            ],
            options={
                'verbose_name': 'Gallery Image',
                'verbose_name_plural': 'Gallery Images',
                'db_table': 'gallery_images',
            },
        ),
        migrations.CreateModel(
            name='File',
            fields=[
                ('file_id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('file', models.FileField(help_text='Profile photo (2-4MB, jpg/jpeg/png/gif only)', upload_to='profile_photos/', validators=[django.core.validators.FileExtensionValidator(allowed_extensions=['jpg', 'jpeg', 'png', 'gif']), management_admin.models.validate_file_size])),
                ('file_name', models.CharField(max_length=255)),
                ('file_type', models.CharField(max_length=50)),
                ('file_size', models.IntegerField(help_text='File size in bytes')),
                ('school_id', models.CharField(blank=True, db_index=True, editable=False, help_text='School ID for filtering (read-only)', max_length=100, null=True)),
                ('school_name', models.CharField(blank=True, editable=False, help_text='School name (read-only, auto-populated from schools table)', max_length=255, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('uploaded_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='uploaded_files', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'File',
                'verbose_name_plural': 'Files',
                'db_table': 'files',
            },
        ),
        migrations.AddField(
            model_name='fee',
            name='student',
            field=models.ForeignKey(help_text='Student associated with this fee', on_delete=django.db.models.deletion.CASCADE, related_name='management_fees', to='management_admin.student'),
        ),
        migrations.CreateModel(
            name='DashboardStats',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('total_teachers', models.IntegerField(default=0)),
                ('total_students', models.IntegerField(default=0)),
                ('total_departments', models.IntegerField(default=0)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('school', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='dashboard_stats', to='super_admin.school')),
            ],
            options={
                'verbose_name': 'Dashboard Statistics',
                'verbose_name_plural': 'Dashboard Statistics',
                'db_table': 'dashboard_stats',
            },
        ),
        migrations.CreateModel(
            name='Activity',
            fields=[
                ('id', models.AutoField(primary_key=True, serialize=False)),
                ('school_name', models.CharField(blank=True, editable=False, help_text='School name (read-only, auto-populated from schools table)', max_length=255, null=True)),
                ('name', models.CharField(help_text='Activity name', max_length=255)),
                ('category', models.CharField(choices=[('Sports', 'Sports'), ('Academic', 'Academic'), ('Arts', 'Arts'), ('Games', 'Games'), ('Cultural', 'Cultural'), ('Technical', 'Technical')], help_text='Activity category', max_length=50)),
                ('instructor', models.CharField(help_text='Instructor name', max_length=255)),
                ('max_participants', models.IntegerField(blank=True, help_text='Maximum number of participants', null=True, validators=[django.core.validators.MinValueValidator(1)])),
                ('schedule', models.CharField(help_text='Activity schedule (Date & Time)', max_length=255)),
                ('location', models.CharField(help_text='Activity location', max_length=255)),
                ('description', models.TextField(help_text='Detailed activity description')),
                ('requirements', models.TextField(blank=True, help_text='Requirements or prerequisites')),
                ('notes', models.TextField(blank=True, help_text='Additional notes or comments')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('school', models.ForeignKey(db_column='school_id', on_delete=django.db.models.deletion.CASCADE, related_name='school_activities', to='super_admin.school')),
            ],
            options={
                'verbose_name': 'School Activity',
                'verbose_name_plural': 'School Activities',
                'db_table': 'school_activities',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='CampusFeature',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('school_name', models.CharField(blank=True, editable=False, max_length=255, null=True)),
                ('name', models.CharField(max_length=255)),
                ('category', models.CharField(choices=[('academic', 'Academic Facilities'), ('sports', 'Sports & Recreation'), ('technology', 'Technology & Labs'), ('arts', 'Arts & Culture'), ('infrastructure', 'Infrastructure'), ('amenities', 'Amenities'), ('speciality', 'Campus Speciality')], default='academic', max_length=50)),
                ('description', models.TextField(blank=True)),
                ('location', models.CharField(max_length=255)),
                ('capacity', models.CharField(blank=True, max_length=100, null=True)),
                ('status', models.CharField(choices=[('active', 'Active'), ('under-construction', 'Under Construction'), ('planned', 'Planned'), ('maintenance', 'Under Maintenance')], default='active', max_length=50)),
                ('date_added', models.DateField(auto_now_add=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('school', models.ForeignKey(null=True, on_delete=django.db.models.deletion.CASCADE, related_name='campus_features', to='super_admin.school')),
            ],
            options={
                'verbose_name': 'Campus Feature',
                'verbose_name_plural': 'Campus Features',
                'db_table': 'campus_features',
                'ordering': ['-date_added', '-created_at'],
                'unique_together': {('school', 'name')},
            },
        ),
        migrations.CreateModel(
            name='BusStopStudent',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('school_id', models.CharField(blank=True, db_index=True, editable=False, help_text='School ID for filtering (read-only, fetched from schools table)', max_length=100, null=True)),
                ('school_name', models.CharField(blank=True, editable=False, help_text='School name (read-only, auto-populated from schools table)', max_length=255, null=True)),
                ('student_id_string', models.CharField(blank=True, help_text='Student ID as string (cached from student table)', max_length=100)),
                ('student_name', models.CharField(blank=True, help_text='Student name (cached from student table)', max_length=255)),
                ('student_class', models.CharField(blank=True, help_text='Student class (cached from student table)', max_length=50)),
                ('student_grade', models.CharField(blank=True, help_text='Student grade (cached from student table)', max_length=50)),
                ('pickup_time', models.TimeField(blank=True, help_text='Pickup time for this student at this stop', null=True)),
                ('dropoff_time', models.TimeField(blank=True, help_text='Dropoff time for this student at this stop', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('bus_stop', models.ForeignKey(db_column='stop_id', on_delete=django.db.models.deletion.CASCADE, related_name='stop_students', to='management_admin.busstop')),
                ('student', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='bus_stops', to='management_admin.student')),
            ],
            options={
                'verbose_name': 'Bus Stop Student',
                'verbose_name_plural': 'Bus Stop Students',
                'db_table': 'bus_stop_students',
                'ordering': ['bus_stop', 'student_name'],
                'unique_together': {('bus_stop', 'student')},
            },
        ),
    ]
